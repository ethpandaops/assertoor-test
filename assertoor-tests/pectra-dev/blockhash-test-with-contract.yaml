
id: blockhash-test
name: "BLOCKHASH opcode test"
timeout: 1h
config:
  #walletPrivkey: ""
tasks:
- name: check_clients_are_healthy
  title: "Check if at least one client is ready"
  timeout: 5m
  config:
    minClientCount: 1

- name: generate_transaction
  title: "Deploy BLOCKHASH test contract"
  config:
    feeCap: 5000000000 # 5 gwei
    gasLimit: 1000000
    contractDeployment: true
    callData: "608060405234801561000f575f80fd5b506102518061001d5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c80639eebb8db1461002d575b5f80fd5b61004760048036038101906100429190610127565b610049565b005b5f5b8167ffffffffffffffff168167ffffffffffffffff1610156100e2575f8167ffffffffffffffff164361007e9190610188565b4090508167ffffffffffffffff16436100979190610188565b7f1599ad63580ca2bbd26e39c5584488358d60e2a67869cfe401936098ac984176826040516100c691906101d3565b60405180910390a25080806100da906101ec565b91505061004b565b5050565b5f80fd5b5f67ffffffffffffffff82169050919050565b610106816100ea565b8114610110575f80fd5b50565b5f81359050610121816100fd565b92915050565b5f6020828403121561013c5761013b6100e6565b5b5f61014984828501610113565b91505092915050565b5f819050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f61019282610152565b915061019d83610152565b92508282039050818111156101b5576101b461015b565b5b92915050565b5f819050919050565b6101cd816101bb565b82525050565b5f6020820190506101e65f8301846101c4565b92915050565b5f6101f6826100ea565b915067ffffffffffffffff82036102105761020f61015b565b5b60018201905091905056fea2646970667358221220b61e3b206ff63361d8bd428b7920e4589d1d90538f5229e1971869f81311823d64736f6c63430008150033"
    failOnReject: true
    contractAddressResultVar: "testContractAddr"
  configVars:
    privateKey: "walletPrivkey"
- name: generate_transaction
  title: "Call test1(10) on BLOCKHASH test contract"
  config:
    feeCap: 5000000000 # 5 gwei
    gasLimit: 1000000
    callData: "9eebb8db000000000000000000000000000000000000000000000000000000000000000a"
    failOnReject: true
  configVars:
    privateKey: "walletPrivkey"
    targetAddress: "testContractAddr"
